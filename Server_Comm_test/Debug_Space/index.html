<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Table with JavaScript</title>
<style>
    table {
        border-collapse: collapse;
        width: 100%;
    }
    th, td {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
    }
    th {
        background-color: #f2f2f2;
    }
</style>
</head>
<body>

<table id="myTable">
    <thead>
        <tr>
            <th>Name</th>
            <th>Age</th>
            <th>City</th>
        </tr>
    </thead>
    <tbody>
        <!-- JavaScript will add rows here -->
    </tbody>
</table>

<script>
    // Sample data
    var data = {
        "0": [
            {
                "fullUrl": "http://localhost:8000/fhir/Patient/3",
                "resource": {
                    "birthDate": "2000-01-01",
                    "id": "3",
                    "meta": {
                        "lastUpdated": "2024-05-05T12:59:17.593+00:00",
                        "source": "#yEN7OTXRpoyXxUOq",
                        "versionId": "1"
                    },
                    "name": [
                        {
                            "given": [
                                "RadhikaKrishna"
                            ],
                            "use": "official"
                        }
                    ],
                    "resourceType": "Patient",
                    "telecom": [
                        {
                            "system": "phone",
                            "use": "mobile",
                            "value": "9911002233"
                        }
                    ]
                },
                "search": {
                    "mode": "match"
                }
            }
        ], 
        "1": [
            {
                "fullUrl": "http://localhost:8000/fhir/Patient/3",
                "resource": {
                    "birthDate": "2000-01-01",
                    "id": "3",
                    "meta": {
                        "lastUpdated": "2024-05-05T12:59:17.593+00:00",
                        "source": "#yEN7OTXRpoyXxUOq",
                        "versionId": "1"
                    },
                    "name": [
                        {
                            "given": [
                                "RadhikaKrishna"
                            ],
                            "use": "official"
                        }
                    ],
                    "resourceType": "Patient",
                    "telecom": [
                        {
                            "system": "phone",
                            "use": "mobile",
                            "value": "9911002233"
                        }
                    ]
                },
                "search": {
                    "mode": "match"
                }
            }
        ]
    }

    // Function to add rows to the table
    function addRows() {
        var table = document.getElementById("myTable").getElementsByTagName('tbody')[0];
        for(let key in data){
            var newRow = table.insertRow(table.rows.length);
            var cell1 = newRow.insertCell(0);
            var cell2 = newRow.insertCell(1);
            var cell3 = newRow.insertCell(2);
            cell1.innerHTML = data[key][0].resource.birthDate;
            cell2.innerHTML = data[key][0].resource.name[0].given[0];
            cell3.innerHTML = data[key][0].resource.telecom[0].value;
        }
    }

    // Call the function to add rows when the page loads
    window.onload = function() {
        addRows();
    };
</script>

</body>
</html>
